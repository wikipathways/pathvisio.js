{
  "name": "@wikipathways/pvjs",
  "version": "4.0.3",
  "main": "es5/index.js",
  "module": "esnext/index.js",
  "jsnext:main": "esnext/index.js",
  "typings": "esnext/index",
  "engines": {
    "node": ">=6.11.4"
  },
  "bin": {
    "pvjs": "./bin/pvjs"
  },
  "files": [
    "bin/",
    "es5/",
    "esnext/",
    "dist/",
    "test/expected"
  ],
  "scripts": {
    "build": "rm -rf dist/ es5/ esnext/; npm-run-all -r -s build:css -p build:assets build:bundle -s build:ts build:dist",
    "build:assets": "npm-run-all -p build:assets:*",
    "build:assets:es5": "rsync -a --delete --include='*.json' --include='*.svg' --include='*.css' --include='*.css.d.ts' --include='*/' --exclude='*' src/ es5/",
    "build:assets:esnext": "rsync -a --delete --include='*.json' --include='*.svg' --include='*.css' --include='*.css.d.ts' --include='*/' --exclude='*' src/ esnext/",
    "build:bundle": "npm run bundle",
    "build:css": "tcm src",
    "build:dist": "webpack --config webpack.dist.config.js",
    "build:ts": "npm-run-all -p build:ts:*",
    "build:ts:es5": "tsc --project tsconfig.es5.json",
    "build:ts:esnext": "tsc --project tsconfig.esnext.json",
    "bundle": "npm-run-all -p bundle:*",
    "bundle:dark": "kaavio bundle ./src/themes/dark.json",
    "bundle:plain": "kaavio bundle ./src/themes/plain.json",
    "convert": "npm-run-all -p convert:*",
    "convert:WP1818_73650": "cat node_modules/gpml2pvjson/test/expected/WP1818_73650.json | ./bin/pvjs --theme dark > WP528_92047.dark.svg",
    "convert:playground": "cat ./test/playground.gpml | gpml2pvjson | tee test/playground.json | ./bin/pvjs --theme dark > ./test/playground.dark.svg",
    "deleteUnconvertables": "echo 'TODO gpml2pvjson fails to convert \"xmllint-pretty2.gpml\", \"xmllint-c14n.gpml\" and \"xmllint-c14n11.gpml\". Need to fix issue at source, but deleting the resulting json files for now...'; rm -f ./node_modules/gpml2pvjson/test/expected/xmllint-c14n* ./node_modules/gpml2pvjson/test/expected/xmllint-exc-c14n.json ./node_modules/gpml2pvjson/test/expected/xmllint-pretty2.json",
    "deploy": "npm run build && host=dev.wikipathways.org && rsync dist/pvjs.js $host:/var/www/$host/wpi/js/pvjs/",
    "expected": "echo 'Setting expected values for tests'; npm-run-all expected:* || break",
    "expected:checksums": "echo \"Converting JSON (from GPML test files) to SVG and generating checksums:\"; npm run deleteUnconvertables; source_dirname=./node_modules/gpml2pvjson/test/expected; for source_file in $source_dirname/*.json; do output_file=`echo $source_file | sed s#$source_dirname#test/expected# | sed 's/\\.json//'`\".svg\"; echo \"$source_file -> $output_file and $output_file.sha1sum\"; cat \"$source_file\" | bin/pvjs --react | tee \"$output_file\" | shasum -p -a 1 > \"$output_file.sha1sum\" || break; done",
    "localize": "npm-run-all localize:*",
    "localize:bridgedb": "cd node_modules; rm -rf bridgedb; ln -s ../../bridgedbjs bridgedb",
    "localize:gpml2pvjson": "cd node_modules; rm -rf gpml2pvjson; ln -s ../../gpml2pvjson-js gpml2pvjson",
    "localize:kaavio": "cd node_modules; rm -rf kaavio; ln -s ../../kaavio kaavio",
    "delocalize": "npm-run-all delocalize:*",
    "delocalize:rm": "cd node_modules; rm -rf bridgedb gpml2pvjson kaavio",
    "delocalize:uninstall": "npm-run-all delocalize:uninstall:*",
    "delocalize:uninstall:bridgedb": "npm uninstall --save bridgedb",
    "delocalize:uninstall:gpml2pvjson": "npm uninstall --save-dev gpml2pvjson",
    "delocalize:uninstall:kaavio": "npm uninstall --save kaavio",
    "delocalize:install": "npm-run-all delocalize:install:*",
    "delocalize:install:bridgedb": "npm install --save bridgedb@*",
    "delocalize:install:gpml2pvjson": "npm install --save-dev gpml2pvjson@*",
    "delocalize:install:kaavio": "npm install --save kaavio@*",
    "postinstall": "npm-run-all bundle; echo \"\\nBuilding expected SVGs for testing purposes...:\"; npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG and verifying checksums...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | tee \"$base_path.svg\" | shasum -p -a 1 -c \"$base_path.svg.sha1sum\" || break; done",
    "prepublishOnly": "npm-run-all build test expected",
    "test": "npm-run-all test:browser test:quick test:checksums",
    "test:browser": "echo 'get browser tests working'",
    "test:checksums": "npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG and verifying checksums...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | shasum -p -a 1 -c \"$base_path.svg.sha1sum\" || break; done",
    "test:convert": "npm run deleteUnconvertables; inputs=\"./node_modules/gpml2pvjson/test/expected/*.json\"; echo \"# Converting $inputs from JSON to SVG...\"; for f in $inputs; do pathway_name=`basename \"$f\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; echo \"\\n## Processing $pathway_name...\"; cat \"$f\" | bin/pvjs --react | xmllint - > /dev/null || break; done",
    "test:quick": "npm-run-all -p test:quick:*",
    "test:quick:Icon": "input=\"./node_modules/gpml2pvjson/test/expected/WP1243_69897.json\" && echo \"# Converting $input from JSON to SVG...\" && pathway_name=`basename \"$input\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; result=$(cat \"$input\" | bin/pvjs --react | xmllint --xpath \"count(//*[contains(concat(' ',normalize-space(@class),' '),' Icon ')])\" -); if [[ ! $result -eq 72 ]]; then echo \"test:quick failed: expected 72 Icons for WP1243_69897 but got $result\" && exit 1; fi; echo 'OK' || echo 'FAIL'",
    "test:quick:Edge": "input=\"./node_modules/gpml2pvjson/test/expected/WP481_94171.json\" && echo \"# Converting $input from JSON to SVG...\" && pathway_name=`basename \"$input\" | sed s/.json//`; base_path=`echo \"./test/expected/$pathway_name\"`; result=$(cat \"$input\" | bin/pvjs | xmllint --xpath \"count(//*[contains(concat(' ',normalize-space(@class),' '),' Edge ')])\" -); if [[ ! $result -eq 19 ]]; then echo \"test:quick failed: expected 19 Edges for WP481_94171 but got $result\" && exit 1; fi; echo 'OK' || echo 'FAIL'",
    "watch-max-build": "npm-run-all -s build -p watch:*",
    "watch": "rm -rf es5/ esnext/; npm-run-all -r -s build:css -p build:assets build:bundle -s build:ts -p watch:*",
    "watch:browser": "webpack-dev-server --config webpack.dev.config.js --open --progress --inline",
    "watch:css": "tcm src --watch",
    "watch:assets": "onchange 'src/**' -- npm-run-all build:assets",
    "watch:es5": "tsc --project tsconfig.es5.json --watch",
    "watch:esnext": "tsc --project tsconfig.esnext.json --watch",
    "watch:playground": "onchange 'test/playground.gpml' -- npm run convert:playground",
    "watch-broken:playground": "onchange 'test/playground.gpml' -- gpml2pvjson < ./test/playground.gpml > ./test/playground.json",
    "watch-broken:test": "onchange 'src/**' -- npm run test:quick",
    "watch:themes": "onchange 'src/themes/**/.json' 'src/themes/**/*.svg' -- npm run bundle"
  },
  "author": "WikiPathways team",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/wikipathways/pvjs.git"
  },
  "description": "Biological pathway diagram viewer for WikiPathways.org",
  "dependencies": {
    "bridgedb": "^6.0.2",
    "kaavio": "^4.0.5",
    "react": "^16.2.0",
    "react-addons-css-transition-group": "^15.6.2",
    "react-addons-shallow-compare": "^15.6.2",
    "react-dom": "^16.2.0",
    "react-selectize": "^3.0.1",
    "react-spinkit": "^3.0.0",
    "rxjs-stream": "^1.1.0"
  },
  "devDependencies": {
    "@types/js-base64": "^2.3.1",
    "@types/node": "^8.9.0",
    "@types/react": "github:ariutta/types-react-v15#50edb5d",
    "@types/react-dom": "^15.5.6",
    "@wikipathways/gpml": "^1.0.4",
    "JSONStream": "^1.3.2",
    "autoprefixer": "^7.2.5",
    "babel-core": "^6.26.0",
    "babel-loader": "^7.1.2",
    "babel-polyfill": "^6.26.0",
    "babel-preset-env": "^1.6.0",
    "babel-preset-es2015": "^6.24.1",
    "babel-preset-es2016": "^6.24.1",
    "babel-preset-react": "^6.24.1",
    "expose-loader": "^0.7.4",
    "extract-text-webpack-plugin": "^3.0.2",
    "gpml2pvjson": "^4.1.1",
    "npm-run-all": "^4.1.3",
    "onchange": "^3.3.0",
    "postcss-loader": "^2.1.0",
    "precss": "^2.0.0",
    "react-test-renderer": "^16.2.0",
    "source-map-loader": "^0.2.3",
    "source-map-support": "^0.5.3",
    "string-replace-webpack-plugin": "^0.1.3",
    "to-string-loader": "^1.1.5",
    "ts-loader": "^2.3.7",
    "typed-css-modules": "^0.3.1",
    "typescript": "^2.7.1",
    "webpack": "^3.10.0",
    "webpack-dev-server": "^2.11.1",
    "webpack-hot-middleware": "^2.21.0"
  }
}
